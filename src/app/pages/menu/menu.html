<div class="container-fluid p-0">
  <header class="main-header bg-primary text-white p-3 shadow-sm">
      <h1 class="h4 mb-0 text-center"> Menu del restaurante {{ restaurantName}}</h1>
  </header>
      <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
          <div class="container">
              <a routerLink="/menu" class="navbar-brand">
                  <span class="app-name fw-bold text-primary">Men√∫ Digital</span>
              </a>
          </div>
      </nav>
  <main class="menu-container container mt-4">

    <section class="categories-nav mb-4 w-100">
      <div class="d-flex flex-row overflow-x-auto pb-2 gap-2 w-100">
        @for (cat of categories; track cat.name) {
          <button 
          class="btn text-nowrap flex-fill"
          [class.btn-success]="(currentCategoryId === cat.categoryId && currentIsDiscount === cat.isDiscount)"
          [class.btn-outline-success]="!(currentCategoryId === cat.categoryId && currentIsDiscount === cat.isDiscount)"
          (click) = "selectCategory(cat.categoryId, cat.isDiscount)">
          
          {{ cat.name }}
          </button>
        }
      </div>
    </section>

      @if (isLoading){
          <div class="spinner-area text-center py-5">
              <app-spinner></app-spinner>
          </div>
      } @else {
      <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4 products-list">
        @for (item of menu; track item.id) {
          <div class="col">
            <app-product-card 
              [product]="item" 
              (viewDetail)="openDetail($event)">
            </app-product-card>
          </div>
        } @empty {
          <div class="col-12">
            <p class="alert alert-info text-center">No se encontraron productos.</p>
          </div>
        }
      </div>
    }
  </main>
</div>
@if (selectedProduct) {
  <app-product-detail-modal 
    [product]="selectedProduct!" 
    (close)="closeDetail()">
  </app-product-detail-modal>
}
